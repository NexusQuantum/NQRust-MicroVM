<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content=#ffffff name=theme-color><meta content=#da532c name=msapplication-TileColor><link crossorigin href=https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.1/css/academicons.min.css integrity=sha384-FIue+PI4SsI9XfHCz8dBLg33b0c1fMJgNU3X//L26FYbGnlSEfWmNT7zgWc2N9b6 rel=stylesheet><link integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css rel=stylesheet><link href=https://yourusername.github.io/nqrust-microvm/deep-thought.css rel=stylesheet><title>
    
NQRust-MicroVM Documentation | Introduction

  </title><body class=has-background-white><nav aria-label="section navigation" class="navbar is-light" role=navigation><div class=container><div class=navbar-brand><a class="navbar-item is-size-5 has-text-weight-bold" href=https://yourusername.github.io/nqrust-microvm>NQRust-MicroVM Documentation</a><a class="navbar-burger burger" aria-expanded=false aria-label=menu data-target=navMenu role=button> <span aria-hidden=true></span> <span aria-hidden=true></span> <span aria-hidden=true></span> </a></div><div class=navbar-menu id=navMenu><div class="navbar-end has-text-centered"><a class="navbar-item has-text-weight-semibold" href=/> Home </a><a class="navbar-item has-text-weight-semibold" href=/introduction/> Introduction </a><a class="navbar-item has-text-weight-semibold" href=/getting-started/> Getting Started </a><a class="navbar-item has-text-weight-semibold" href=/user-guide/> User Guide </a><a class="navbar-item has-text-weight-semibold" href=/operations/> Operations </a><a class="navbar-item has-text-weight-semibold" href=/deployment/> Deployment </a><a class="navbar-item has-text-weight-semibold" href=/project/> Project </a><a class=navbar-item data-target=#search-modal id=nav-search title=Search> <span class=icon> <i class="fas fa-search"></i> </span> </a><a title="Switch to dark theme" class=navbar-item id=dark-mode> <span class=icon> <i class="fas fa-adjust"></i> </span> </a></div></div></div></nav><section class=section><div class=container><div class=has-text-centered><h1 class="title is-2">Introduction</h1><p class="subtitle is-4">Overview of NQRust-MicroVM architecture and key concepts</div><div class=content><h1 id=introduction-to-nqrust-microvm>Introduction to NQRust-MicroVM</h1><p><strong>NQRust-MicroVM</strong> is a modern, high-performance management system for AWS Firecracker microVMs. It provides a complete platform for managing lightweight virtual machines, Docker containers, and serverless functions with a focus on security, performance, and ease of use.<h2 id=what-is-nqrust-microvm>What is NQRust-MicroVM?</h2><p>NQRust-MicroVM bridges the gap between raw KVM processes and a usable cloud platform. Designed for home labs, private clouds, and edge deployments, it offers an intuitive web dashboard to spin up virtual machines in milliseconds with minimal resource overhead.<h3 id=key-differentiators>Key Differentiators</h3><ul><li><strong>Firecracker-First</strong>: Built specifically for AWS Firecracker, not a generic VM manager<li><strong>Modern Stack</strong>: Rust backend for safety and performance, Next.js 15 frontend for UX<li><strong>Security by Default</strong>: Strong kernel-level isolation via Firecracker microVMs<li><strong>Developer Friendly</strong>: Web terminal, real-time metrics, comprehensive API<li><strong>Hybrid Architecture</strong>: Supports VMs, containers, and serverless functions in one platform</ul><hr><h2 id=architecture-overview>Architecture Overview</h2><p>The system consists of four main components:<h3 id=manager-port-18080>Manager (Port 18080)</h3><p>The <strong>central orchestration service</strong> managing VM lifecycle, containers, and functions.<ul><li><strong>Technology</strong>: Rust with Axum web framework<li><strong>Database</strong>: PostgreSQL with SQLx ORM<li><strong>Features</strong>: <ul><li>VM lifecycle management (create, start, stop, pause, resume, delete)<li>Docker container orchestration (container-per-VM architecture)<li>Serverless function execution (Node.js, Python, Ruby)<li>Image registry (kernels, rootfs, container runtimes)<li>Snapshot and template management<li>WebSocket support (shell access, real-time metrics)<li>Background reconciler for health monitoring</ul></ul><h3 id=agent-port-9090>Agent (Port 9090)</h3><p><strong>Runs on KVM hosts</strong> to execute VM operations via Firecracker.<ul><li><strong>Technology</strong>: Rust with Axum<li><strong>Requires</strong>: Root privileges for KVM access<li><strong>Functions</strong>: <ul><li>Registers with manager on startup<li>Sends periodic heartbeats<li>Communicates with Firecracker VMM via Unix domain sockets<li>Handles VM creation, lifecycle, snapshots<li>Proxies shell access via screen sessions</ul></ul><h3 id=guest-agent-port-9000>Guest Agent (Port 9000)</h3><p><strong>Runs inside VMs</strong> to report metrics and status back to the manager.<ul><li><strong>Technology</strong>: Rust (statically compiled with musl)<li><strong>Auto-deployed</strong>: Manager installs it during VM creation<li><strong>Functions</strong>: <ul><li>Reports CPU, memory, uptime, load average, process count<li>Auto-reports VM IP address to manager<li>Enables real-time guest metrics via WebSocket</ul></ul><h3 id=frontend-ui-port-3000>Frontend UI (Port 3000)</h3><p><strong>Modern web interface</strong> for managing the entire platform.<ul><li><strong>Technology</strong>: Next.js 15, React 19, TypeScript<li><strong>UI Framework</strong>: shadcn/ui with Tailwind CSS 4<li><strong>State Management</strong>: TanStack Query (React Query)<li><strong>Real-time</strong>: WebSocket for terminal and metrics<li><strong>Features</strong>: <ul><li>VM management with 7-tab detail view<li>Container and function management<li>Image registry with DockerHub browser<li>Host, network, and volume registries<li>Browser-based terminal (xterm.js)<li>Real-time metrics dashboards</ul></ul><hr><h2 id=component-communication>Component Communication</h2><pre class=language-mermaid data-lang=mermaid style=color:#c0c5ce;background-color:#2b303b><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    User([User / Browser])
</span><span>    Frontend[Next.js Frontend&LTbr/>Port 3000]
</span><span>    Manager[Rust Manager API&LTbr/>Port 18080]
</span><span>    DB[(PostgreSQL)]
</span><span>    Agent[Rust Host Agent&LTbr/>Port 9090]
</span><span>    GuestAgent[Guest Agent&LTbr/>Port 9000]
</span><span>
</span><span>    subgraph "Host Server (KVM)"
</span><span>        Frontend
</span><span>        Manager
</span><span>        DB
</span><span>        Agent
</span><span>
</span><span>        subgraph "MicroVMs"
</span><span>            VM1[Firecracker VM 1]
</span><span>            VM2[Firecracker VM 2]
</span><span>            GuestAgent
</span><span>        end
</span><span>    end
</span><span>
</span><span>    User -->|HTTPS| Frontend
</span><span>    User -->|WebSocket| Manager
</span><span>    Frontend -->|REST API| Manager
</span><span>    Manager -->|SQL| DB
</span><span>    Manager -->|REST API| Agent
</span><span>    Agent -->|Unix Socket| VM1
</span><span>    Agent -->|Unix Socket| VM2
</span><span>    Manager -->|HTTP| GuestAgent
</span></code></pre><hr><h2 id=key-concepts>Key Concepts</h2><h3 id=microvms-vs-containers>MicroVMs vs Containers</h3><p><strong>Firecracker microVMs</strong> provide:<ul><li>Full kernel isolation (each VM runs its own Linux kernel)<li>Hardware virtualization via KVM<li>Boot times under 125ms<li>Memory overhead as low as 5MB per VM<li>Stronger security than containers alone</ul><p><strong>Container Mode</strong> runs Docker inside microVMs for:<ul><li>Maximum isolation (kernel + hardware virtualization)<li>Familiar Docker workflow<li>Protection against container escape vulnerabilities</ul><h3 id=vm-lifecycle-states>VM Lifecycle States</h3><ul><li><strong>Creating</strong>: VM configuration being prepared<li><strong>Created</strong>: Ready to start but not running<li><strong>Running</strong>: VM is active and accessible<li><strong>Paused</strong>: VM execution suspended (memory preserved)<li><strong>Stopped</strong>: VM gracefully shut down<li><strong>Failed</strong>: VM encountered an error</ul><h3 id=templates>Templates</h3><p><strong>VM Templates</strong> allow you to save complete VM configurations for reuse:<ul><li>Hardware settings (CPU, memory)<li>Boot source (kernel, rootfs, boot args)<li>Network configuration<li>Drive attachments</ul><p>See <a href=/user-guide/vm-management/templates/>Templates Documentation</a> for details.<h3 id=snapshots>Snapshots</h3><p><strong>Snapshots</strong> capture the complete state of a running VM:<ul><li><strong>Full snapshots</strong>: Complete memory and disk state<li><strong>Differential snapshots</strong>: Only changes since last snapshot<li><strong>Instant restore</strong>: Resume from snapshot in milliseconds</ul><p>See <a href=/user-guide/vm-management/snapshots/>Snapshots Guide</a> for details.<hr><h2 id=network-architecture>Network Architecture</h2><p>NQRust-MicroVM supports flexible networking:<h3 id=nat-mode-default>NAT Mode (Default)</h3><ul><li>VMs connected to bridge (default: <code>fcbr0</code>)<li>Isolated from LAN<li>Outbound internet access via NAT<li>Easy setup, no network configuration required</ul><h3 id=bridged-mode>Bridged Mode</h3><ul><li>VMs appear as physical devices on your LAN<li>Can receive DHCP addresses from your router<li>Accessible from other devices on network<li>Requires bridge setup (see <a href=/operations/bridged-networking/>Bridged Networking</a>)</ul><h3 id=vlan-support>VLAN Support</h3><ul><li>802.1Q VLAN tagging<li>Isolate VM traffic on separate VLANs<li>Network registry with auto-registration<li>See <a href=/user-guide/networking/>Networking Guide</a></ul><hr><h2 id=storage-architecture>Storage Architecture</h2><h3 id=volume-types>Volume Types</h3><ul><li><strong>rootfs</strong>: Root filesystem (required for boot)<li><strong>data</strong>: Additional data volumes<li><strong>Formats</strong>: ext4, qcow2, raw</ul><h3 id=image-registry>Image Registry</h3><p>Central registry for:<ul><li><strong>Kernels</strong>: Linux kernel binaries<li><strong>Rootfs</strong>: Root filesystem images<li><strong>Container Runtimes</strong>: Alpine + Docker images</ul><p><strong>Image Sources</strong>:<ul><li>Local file upload<li>Docker Hub browser<li>Direct file paths (if enabled)</ul><p>See <a href=/user-guide/storage/>Storage Documentation</a> for details.<hr><h2 id=security-model>Security Model</h2><h3 id=isolation-layers>Isolation Layers</h3><ol><li><strong>Hardware Virtualization</strong>: KVM-based isolation<li><strong>Minimal Attack Surface</strong>: Firecracker has tiny TCB (Trusted Computing Base)<li><strong>Process Isolation</strong>: Each VM is a separate Linux process<li><strong>Network Isolation</strong>: VMs can be network-isolated or VLAN-tagged<li><strong>RBAC</strong>: Role-based access control for multi-user environments (in development)</ol><h3 id=auto-authentication>Auto-Authentication</h3><p>VMs receive auto-generated credentials via:<ul><li><strong>MMDS</strong> (Microvm Metadata Service): Firecracker’s metadata service<li><strong>cloud-init</strong>: Standard cloud initialization<li>Credentials accessible in VM at boot time</ul><hr><h2 id=what-s-next>What’s Next?</h2><ul><li><a href=/getting-started/><strong>Getting Started</strong></a> - Install and run your first VM<li><a href=/user-guide/><strong>User Guide</strong></a> - Learn about all features<li><a href=/operations/><strong>Operations</strong></a> - Production deployment and tuning<li><a href=http://localhost:18080/swagger-ui/ rel=noopener target=_blank><strong>API Reference</strong></a> - REST API documentation</ul><hr><h2 id=project-status>Project Status</h2><p>NQRust-MicroVM is under active development. Key features are production-ready:<p><strong>Production Ready:</strong><ul><li>VM lifecycle management<li>Web terminal and metrics<li>Snapshots and templates<li>Networking (NAT and bridged)<li>Volume management<li>Container orchestration<li>Serverless functions</ul><p><strong>In Development:</strong><ul><li>Full RBAC implementation<li>Multi-tenancy<li>Advanced monitoring<li>Cluster orchestration</ul><p>See <a href=/project/roadmap/>Project Roadmap</a> for future plans.</div><div class="columns is-centered"><div class="column is-9"></div></div></div></section><section class=modal id=search-modal><div class=modal-background></div><div class=modal-card><header class=modal-card-head><p class=modal-card-title>Search</header><section class=modal-card-body><div class="field mb-2"><div class=control><input placeholder="Search this website." class=input id=search type=search></div></div><div class=search-results><div class=search-results__items></div></div></section></div><button class="modal-close is-large" aria-label=close></button></section><footer class="footer py-4"><div class="content has-text-centered"><p>Built with <span class=icon-text> <span class=icon> <i class="fas fa-code"></i> </span> <span>code</span> </span> and <span class=icon-text> <span class=icon> <i class="fas fa-heart"></i> </span> <span>love</span> </span><p>Powered by <span class=icon-text> <span class=icon> <i class="fas fa-power-off"></i> </span> <span>zola</span> </span></div></footer><script src=https://yourusername.github.io/nqrust-microvm/elasticlunr.min.js></script><script src=https://yourusername.github.io/nqrust-microvm/search_index.en.js></script><script src=https://yourusername.github.io/nqrust-microvm/js/site.js></script>